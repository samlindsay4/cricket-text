<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Live cricket scores in authentic Teletext style">
    <meta name="theme-color" content="#0000ff">
    <title id="page-title">Teletest | Cricket scores and news</title>
    <link rel="stylesheet" href="/css/teletest.css">
    <link rel="icon" type="image/png" href="/images/favicon.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icons/icon-192.png">
</head>
<body>
    <div class="container">
        <!-- TELETEST Header with Page Number -->
        <header class="page-header">
            <div class="page-header-left">
                <span class="page-header-brand">TELETEST</span>
                <span id="page-number-display" class="page-header-page-number">340</span>
            </div>
            <div class="page-header-right">
                <span class="text-white" id="teletest-date"></span>
                <span class="text-yellow" id="teletest-time"></span>
            </div>
        </header>

        <!-- CRICKET Header Bar - TELETEST Style -->
        <div class="main-title-bar" id="main-title-bar" style="visibility: hidden;">
            <img src="/images/teletest-banner.png" alt="CRICKET" style="width: 100%; height: 100%; object-fit: cover; object-position: center; display: block;">
        </div>

        <!-- Content Area -->
        <div class="content" id="page-content">
        </div>

        <!-- Subpage indicator (for cycling pages) -->
        <div class="subpage-indicator" id="subpage-indicator"></div>

        <!-- Footer nav inside container -->
        <div class="live-footer-nav" id="live-footer-nav">
            <span class="page-link text-red" onclick="navigatePage('prev')">Previous</span>
            <span class="page-link text-green" onclick="navigatePage('next')">Next</span>
            <span class="page-link text-yellow" onclick="navigatePage(340)">Cricket</span>
            <span class="page-link text-cyan" onclick="navigatePage('about')">About</span>
        </div>
    </div>

    <!-- End of Over Ticker (shown when showTicker flag is true) -->
    <div id="end-of-over-ticker" class="end-of-over-ticker">
        <div id="ticker-message">END OF OVER</div>
    </div>

    <!-- Mobile Keypad -->
    <div class="mobile-keypad collapsed" id="mobile-keypad">
        <div class="keypad-toggle" id="keypad-toggle" onclick="toggleKeypad()">
        </div>
        <div class="keypad-content" id="keypad-content">
            <div class="keypad-grid">
                <button class="keypad-btn" onclick="keypadInput('1')">1</button>
                <button class="keypad-btn" onclick="keypadInput('2')">2</button>
                <button class="keypad-btn" onclick="keypadInput('3')">3</button>
                <button class="keypad-btn" onclick="keypadInput('4')">4</button>
                <button class="keypad-btn" onclick="keypadInput('5')">5</button>
                <button class="keypad-btn" onclick="keypadInput('6')">6</button>
                <button class="keypad-btn" onclick="keypadInput('7')">7</button>
                <button class="keypad-btn" onclick="keypadInput('8')">8</button>
                <button class="keypad-btn" onclick="keypadInput('9')">9</button>
                <button class="keypad-btn keypad-back" onclick="keypadBackspace()">BACK</button>
                <button class="keypad-btn" onclick="keypadInput('0')">0</button>
                <button class="keypad-btn keypad-clear" onclick="keypadClear()">CLR</button>
            </div>
            <div class="keypad-color-row">
                <button class="keypad-color-btn keypad-red" onclick="navigatePage('prev')">RED</button>
                <button class="keypad-color-btn keypad-green" onclick="navigatePage('next')">GREEN</button>
                <button class="keypad-color-btn keypad-yellow" onclick="navigatePage(340)">YELLOW</button>
                <button class="keypad-color-btn keypad-blue" onclick="navigatePage('about')">BLUE</button>
            </div>
        </div>
    </div>

    <script src="/js/page-viewer.js"></script>
    <script>
        // Register service worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registered:', registration);
                    })
                    .catch(error => {
                        console.log('Service Worker registration failed:', error);
                    });
            });
        }
    </script>
</body>
</html>